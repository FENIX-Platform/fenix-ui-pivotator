define(["jStat"],function(r){return function(r){function n(e){if(t[e])return t[e].exports;var a=t[e]={exports:{},id:e,loaded:!1};return r[e].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};return n.m=r,n.c=t,n.p="",n(0)}([function(r,n,t){r.exports=t(1)},function(r,n,t){var e,a;e=[t(2)],a=function(r){"use strict";function n(r,n){var t=n.extractor;if("function"==typeof t){for(var e=[],a=r.length,u=0;u<a;u++)e=e.concat(t(r[u]));return e}return r}function t(r,n){var t=n.rows,e=n.columns,a=l.getGetValue(n.valueOutputType);n.cumulative;a||(a=function(r){return r});for(var u,o={},i={},c=[],s=[],f=r.length,v={},d=0;d<n.values.length;d++)v[n.values[d]]={};for(var d=0;d<f;d++){var m=[],p=[];u=r[d];for(var h in t)m.push(r[d][t[h]]);for(var g in e)p.push(r[d][e[g]]);m=m.join("|*"),p=p.join("|*");for(var w=0;w<n.values.length;w++)v[n.values[w]][m]||(v[n.values[w]][m]={}),v[n.values[w]][m][p]?v[n.values[w]][m][p].push(l.getGetValue(n.values[w],"number")(u,n.values[w])):v[n.values[w]][m][p]=[l.getGetValue(n.values[w],"number")(u,n.values[w])];o[p]=!0,i[m]=!0}for(var d in o)c.push(d);for(var d in i)s.push(d);return s.sort(),e.sort(),{data:v,columns:c,rows:s}}function e(r,e){void 0===e&&(e={});var a={};return c.copyProperties(v,a),e&&c.copyProperties(e,a),a.extractor&&(r=n(r,a)),t(r,e)}function a(r,n){var t=[];for(var a in r.data){var u={};for(var o in r.metadata.dsd.columns)u[r.metadata.dsd.columns[o].id]=r.data[a][o];for(var i in n.derived)u[i]=n.derived[i](u);t.push(u)}return e(t,n)}function u(r,n){var t={data:[],metadata:{dsd:{columns:[]}}},e=a(r,n);for(var u in e.rows){var o=e.rows[u],i=o.split("|*");for(var c in e.columns){var s=e.columns[c];for(var f in n.values){var v=n.values[f];if(e.data[v][o][s]){var d=null;d=n.aggregationFn[v]?n.aggregationFn[v]:"default",i.push(l.getAgg(v,d)(e.data[v][o][s],l.getFormater(n.formatter),n.decimals))}else i.push(null)}}t.data.push(i)}var m={};for(var o in r.metadata.dsd.columns)m[r.metadata.dsd.columns[o].id]=r.metadata.dsd.columns[o].title.EN;for(var o in n.ROWS)t.metadata.dsd.columns.push({id:n.ROWS[o],title:{EN:m[n.ROWS[o]]}});for(var o in n.COLS)t.metadata.dsd.columns.push({id:n.COLS[o],title:{EN:m[n.COLS[o]]}});for(var o in e.columns)t.metadata.dsd.columns.push({id:o.replace(/\|\*/g,"_"),title:{EN:o.replace(/\|\*/g,"\n")},subject:"value"});return t}function o(r,n){i={data:[],unit:[],flag:[],attribute:[],rows:[],cols:[],cols2:[],cols2label:[],okline:[],nookline:[],rowname:[],colsname:[]};var t=a(r,n);for(var e in t.rows){var u=t.rows[e],o=u.split("|*");i.rows.push(o);var c=[];n.hasOwnProperty("showRowHeaders")&&1==n.showRowHeaders&&(c=JSON.parse(JSON.stringify(o)));for(var s in t.columns){var f=t.columns[s];for(var v in n.values){var d=n.values[v];if(t.data[d][u][f]){var m=null;m=n.aggregationFn[d]?n.aggregationFn[d]:"default",c.push(l.getAgg(d,m)(t.data[d][u][f],l.getFormater(n.formatter),n.decimals))}else c.push(null)}}i.data.push(c)}var p={};for(var u in r.metadata.dsd.columns)p[r.metadata.dsd.columns[u].id]=r.metadata.dsd.columns[u].title.EN;for(var u in n.rows)i.rowname.push({id:n.rows[u],title:{EN:p[n.rows[u]]}});0==n.rows.length&&i.rowname.push({id:"row",title:{EN:"ROW"}});for(var u in n.columns)i.colsname.push({id:n.columns[u],title:{EN:p[n.columns[u]]}});var h={};for(var u in n.hidden)h[n.hidden[u]]=!0;for(var e in t.columns){var u=t.columns[e];i.cols.push({id:u.replace(/\|\*/g,"_"),title:{EN:u.replace(/\|\*/g,"\n")}}),i.cols2.push(u.split("|*")),i.cols2label.push(u.split("|*"))}return i}var i,l=new r,c={copyProperties:function(r,n){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])},isArray:function(r){return r&&!r.propertyIsEnumerable("length")&&"object"==typeof r&&"number"==typeof r.length},stringComparator:function(r,n){return r.localeCompare(n)},numberComparator:function(r,n){return r>n?1:n>r?-1:0},defaultComparator:function(){return 0},makeComparator:function(r,n,t){var e,a=r.length,u=[];for(e=0;e<a;e++){var o=n[0][r[e]],i=typeof o;"function"==typeof t[r[e]]?u[e]=t[r[e]]:"number"===i?u[e]=this.numberComparator:"string"===i?u[e]=this.stringComparator:c.isArray(o)?u[e]=this.defaultComparator:u[e]=this.defaultComparator}return function(n,t){var o=0;for(e=0;e<a;e++){var i=r[e];if(o=u[e](n[i],t[i]),0!==o)return o}return 0}}},s=function(){return x},f=function(r,n){function t(r,n){n=n||{};var t=n.childKey||"child",e=n.parentKey||"parent",a=n.childrenKey||"children",u=n.nodeFn||function(r,n,t){return{name:n,children:t}},o={};return r.reduce(function(r,n){if(n[a]=[],o[n[t]]=n,"undefined"==typeof n[e]||""===n[e])r=u(n,n[t],n[a]);else{var i=o[n[e]];i[a].push(u(n,n[t],n[a]))}return r},{})}function e(r,n,t){return null==n||"function"!=typeof n?r:(n.call(r,r,t),r.children&&r.children.length>0&&r.children.forEach(function(t){e(t,n,r)}),r)}function a(r,n){r.children.length<1&&delete r.children}function u(r){r.children&&0!=r.children.length?r.span=0:r.span=1;for(var n in r.children)r.span+=u(r.children[n]);return r.span}function o(r,n,t){var e=[];if(n==t)for(var a in r.children)e.push({id:r.children[a].name,span:r.children[a].span});else for(var a in r.children)e=e.concat(o(r.children[a],n,t+1));return e}var i=[{id:"root"}],l={};for(var c in r)for(var s=1;s<=r[c].length;s++){var f=r[c].slice(0,s).join("_");l[f]||(l[f]=!1);var v="";s>1&&(v=r[c].slice(0,s-1).join("_")),0==l[f]&&(v.length>0?i.push({id:f,parentId:v}):i.push({id:f,parentId:"root"})),l[f]=!0}var d={childKey:"id",parentKey:"parentId"},m=e(t(i,d),a);u(m,n);var p=[];for(var c in r[0]){var h=[];h=o(m,c,0),p.push(h)}return p},v={extractor:null,comparators:{}};return function(){return{pivot:o,toFXJson:o,toPivotData:a,toFX:u,identity:s,toTree:f}}}.apply(n,e),!(void 0!==a&&(r.exports=a))},function(r,n,t){var e;e=function(){var r=t(3).jStat,n={VALUE0:{"default":function(n,t,e){var a=r(n);return t(a.sum(),e)},sum:function(n,t,e){var a=r(n);return t(a.sum(),e)},avg:function(n,t,e){var a=r(n);return t(a.mean(),e)},median:function(n,t,e){var a=r(n);return t(a.median(),e)},stdev:function(n,t,e){var a=r(n);return t(a.stdev(),e)},count:function(r,n,t){var e=r;return n(e.length,t)},concat:function(r,n,t){var e=r;return e.join(" - ")}},Value:{"default":function(n,t,e){var a=r(n);return t(a.sum(),e)},sum:function(n,t,e){var a=r(n);return t(a.sum(),e)},avg:function(n,t,e){var a=r(n);return t(a.mean(),e)},median:function(n,t,e){var a=r(n);return t(a.median(),e)},stdev:function(n,t,e){var a=r(n);return t(a.stdev(),e)},count:function(r,n,t){var e=r;return n(e.length,t)},concat:function(r,n,t){var e=r;return e.join(" - ")}},VALUE:{"default":function(n,t,e){var a=r(n);return t(a.sum(),e)},sum:function(n,t,e){var a=r(n);return t(a.sum(),e)},avg:function(n,t,e){var a=r(n);return t(a.mean(),e)},median:function(n,t,e){var a=r(n);return t(a.median(),e)},stdev:function(n,t,e){var a=r(n);return t(a.stdev(),e)},count:function(r,n,t){var e=r;return n(e.length,t)},concat:function(r,n,t){var e=r;return e.join(" - ")}},value:{"default":function(n,t,e){var a=r(n);return t(a.sum(),e)},sum:function(n,t,e){var a=r(n);return t(a.sum(),e)},avg:function(n,t,e){var a=r(n);return t(a.mean(),e)},median:function(n,t,e){var a=r(n);return t(a.median(),e)},stdev:function(n,t,e){var a=r(n);return t(a.stdev(),e)},count:function(r,n,t){var e=r;return n(e.length,t)},concat:function(r,n,t){var e=r;return e.join(" - ")}},um:{"default":function(r,n,t){var e=r[0];for(var a in r)r[a]!=e&&(e="_");return e},diff:function(r,n,t){var e=r[0];for(var a in r)r[a]!=e&&(e="_");return e}},flag:{concat:function(r,n,t){var e=r;return e.join(" - ")},"default":function(r,n,t){var e=r;return e.join(" - ")}},v1:{count:function(r,n,t){var e=r;return n(e.length,t)},concat:function(r,n,t){var e=r;return e.join(" - ")},"default":function(r,n,t){var e=r;return e.join(" - ")}},"default":function(r,n,t){var e=r;return e.join(" ")}},e={"default":function(r,n){return r[n]},value:{number:function(r){return null==r.value?null:parseFloat(r.value)},string:function(r){return r.value}},Value:{number:function(r){return null==r.Value?null:parseFloat(r.Value)},string:function(r){return r.Value}}},a={localstring:function(r,n){return(Math.floor(r*Math.pow(10,n))/Math.pow(10,n)).toLocaleString()},value:function(r,n){return Math.floor(r*Math.pow(10,n))/Math.pow(10,n)},string:function(r,n){return r}},u=function(){ret={};for(var r in n){ret[r]={};for(var t in n[r])ret[r][t]=n[r][t]}return ret},o=function(r,t){return n[r]?(t||(t="default"),n[r][t]):n["default"]},i=function(r,n){return e[r]&&e[r][n]?e[r][n]:e["default"]},l=function(r){return a[r]};return function(){return{getListAggregator:u,getAgg:o,getGetValue:i,getFormater:l}}}.call(n,t,n,r),!(void 0!==e&&(r.exports=e))},function(n,t){n.exports=r}])});
//# sourceMappingURL=fenix-ui-pivotator.min.js.map