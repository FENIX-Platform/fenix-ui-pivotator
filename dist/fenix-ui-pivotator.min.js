define(["jStat"],function(r){return function(r){function n(a){if(t[a])return t[a].exports;var e=t[a]={exports:{},id:a,loaded:!1};return r[a].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var t={};return n.m=r,n.c=t,n.p="",n(0)}([function(r,n,t){r.exports=t(1)},function(r,n,t){var a,e;a=[t(2)],e=function(r){"use strict";function n(r,n){var t=n.extractor;if("function"==typeof t){for(var a=[],e=r.length,u=0;u<e;u++)a=a.concat(t(r[u]));return a}return r}function t(r,n){var t=n.rows,a=n.columns,e=l.getGetValue(n.valueOutputType);n.cumulative;e||(e=function(r){return r});for(var u,o={},i={},c=[],s=[],f=r.length,v={},d=0;d<n.values.length;d++)v[n.values[d]]={};for(var d=0;d<f;d++){var p=[],m=[];u=r[d];for(var h in t)p.push(r[d][t[h]]);for(var g in a)m.push(r[d][a[g]]);p=p.join("|*"),m=m.join("|*");for(var w=0;w<n.values.length;w++)v[n.values[w]][p]||(v[n.values[w]][p]={}),v[n.values[w]][p][m]?v[n.values[w]][p][m].push(l.getGetValue(n.values[w],"number")(u,n.values[w])):v[n.values[w]][p][m]=[l.getGetValue(n.values[w],"number")(u,n.values[w])];o[m]=!0,i[p]=!0}for(var d in o)c.push(d);for(var d in i)s.push(d);return s.sort(),a.sort(),{data:v,columns:c,rows:s}}function a(r,a){void 0===a&&(a={});var e={};return c.copyProperties(v,e),a&&c.copyProperties(a,e),e.extractor&&(r=n(r,e)),t(r,a)}function e(r,n){var t=[];for(var e in r.data){var u={};for(var o in r.metadata.dsd.columns)u[r.metadata.dsd.columns[o].id]=r.data[e][o];for(var i in n.derived)u[i]=n.derived[i](u);t.push(u)}return a(t,n)}function u(r,n){var t={data:[],metadata:{dsd:{columns:[]}}},a=n.lang||"EN";a=a.toUpperCase();var u=e(r,n);for(var o in u.rows){var i=u.rows[o],c=i.split("|*");for(var s in u.columns){var f=u.columns[s];for(var v in n.values){var d=n.values[v];if(u.data[d][i][f]){var p=null;p=n.aggregationFn[d]?n.aggregationFn[d]:"default",c.push(l.getAgg(d,p)(u.data[d][i][f],l.getFormater(n.formatter),n.decimals))}else c.push(null)}}t.data.push(c)}var m={};for(var i in r.metadata.dsd.columns)m[r.metadata.dsd.columns[i].id]=r.metadata.dsd.columns[i].title[a];for(var i in n.ROWS){var h={};h[a]=m[n.ROWS[i]],t.metadata.dsd.columns.push({id:n.ROWS[i],title:h})}for(var i in n.COLS){var h={};h[a]=m[n.COLS[i]],t.metadata.dsd.columns.push({id:n.COLS[i],title:h})}for(var i in u.columns){var h={};h[a]=i.replace(/\|\*/g,"\n"),t.metadata.dsd.columns.push({id:i.replace(/\|\*/g,"_"),title:h,subject:"value"})}return t}function o(r,n){i={data:[],unit:[],flag:[],attribute:[],rows:[],cols:[],cols2:[],cols2label:[],okline:[],nookline:[],rowname:[],colsname:[]};var t=n.lang||"EN";t=t.toUpperCase();var a=e(r,n);for(var u in a.rows){var o=a.rows[u],c=o.split("|*");i.rows.push(c);var s=[];n.hasOwnProperty("showRowHeaders")&&1==n.showRowHeaders&&(s=JSON.parse(JSON.stringify(c)));for(var f in a.columns){var v=a.columns[f];for(var d in n.values){var p=n.values[d];if(a.data[p][o][v]){var m=null;m=n.aggregationFn[p]?n.aggregationFn[p]:"default",s.push(l.getAgg(p,m)(a.data[p][o][v],l.getFormater(n.formatter),n.decimals))}else s.push(null)}}i.data.push(s)}var h={};for(var o in r.metadata.dsd.columns)h[r.metadata.dsd.columns[o].id]=r.metadata.dsd.columns[o].title[t];for(var o in n.rows){var g={};g[t]=h[n.rows[o]],i.rowname.push({id:n.rows[o],title:g})}if(0==n.rows.length){var g={};g[t]="ROW",i.rowname.push({id:"row",title:g})}for(var o in n.columns){var g={};g[t]=h[n.columns[o]],i.colsname.push({id:n.columns[o],title:g})}var w={};for(var o in n.hidden)w[n.hidden[o]]=!0;for(var u in a.columns){var o=a.columns[u],g={};g[t]=o.replace(/\|\*/g,"\n"),i.cols.push({id:o.replace(/\|\*/g,"_"),title:g}),i.cols2.push(o.split("|*")),i.cols2label.push(o.split("|*"))}return i}var i,l=new r,c={copyProperties:function(r,n){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])},isArray:function(r){return r&&!r.propertyIsEnumerable("length")&&"object"==typeof r&&"number"==typeof r.length},stringComparator:function(r,n){return r.localeCompare(n)},numberComparator:function(r,n){return r>n?1:n>r?-1:0},defaultComparator:function(){return 0},makeComparator:function(r,n,t){var a,e=r.length,u=[];for(a=0;a<e;a++){var o=n[0][r[a]],i=typeof o;"function"==typeof t[r[a]]?u[a]=t[r[a]]:"number"===i?u[a]=this.numberComparator:"string"===i?u[a]=this.stringComparator:c.isArray(o)?u[a]=this.defaultComparator:u[a]=this.defaultComparator}return function(n,t){var o=0;for(a=0;a<e;a++){var i=r[a];if(o=u[a](n[i],t[i]),0!==o)return o}return 0}}},s=function(){return x},f=function(r,n){function t(r,n){n=n||{};var t=n.childKey||"child",a=n.parentKey||"parent",e=n.childrenKey||"children",u=n.nodeFn||function(r,n,t){return{name:n,children:t}},o={};return r.reduce(function(r,n){if(n[e]=[],o[n[t]]=n,"undefined"==typeof n[a]||""===n[a])r=u(n,n[t],n[e]);else{var i=o[n[a]];i[e].push(u(n,n[t],n[e]))}return r},{})}function a(r,n,t){return null==n||"function"!=typeof n?r:(n.call(r,r,t),r.children&&r.children.length>0&&r.children.forEach(function(t){a(t,n,r)}),r)}function e(r,n){r.children.length<1&&delete r.children}function u(r){r.children&&0!=r.children.length?r.span=0:r.span=1;for(var n in r.children)r.span+=u(r.children[n]);return r.span}function o(r,n,t){var a=[];if(n==t)for(var e in r.children)a.push({id:r.children[e].name,span:r.children[e].span});else for(var e in r.children)a=a.concat(o(r.children[e],n,t+1));return a}var i=[{id:"root"}],l={};for(var c in r)for(var s=1;s<=r[c].length;s++){var f=r[c].slice(0,s).join("_");l[f]||(l[f]=!1);var v="";s>1&&(v=r[c].slice(0,s-1).join("_")),0==l[f]&&(v.length>0?i.push({id:f,parentId:v}):i.push({id:f,parentId:"root"})),l[f]=!0}var d={childKey:"id",parentKey:"parentId"},p=a(t(i,d),e);u(p,n);var m=[];for(var c in r[0]){var h=[];h=o(p,c,0),m.push(h)}return m},v={extractor:null,comparators:{}};return function(){return{pivot:o,toFXJson:o,toPivotData:e,toFX:u,identity:s,toTree:f}}}.apply(n,a),!(void 0!==e&&(r.exports=e))},function(r,n,t){var a;a=function(){var r=t(3).jStat,n={VALUE0:{"default":function(n,t,a){var e=r(n);return t(e.sum(),a)},sum:function(n,t,a){var e=r(n);return t(e.sum(),a)},avg:function(n,t,a){var e=r(n);return t(e.mean(),a)},median:function(n,t,a){var e=r(n);return t(e.median(),a)},stdev:function(n,t,a){var e=r(n);return t(e.stdev(),a)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},Value:{"default":function(n,t,a){var e=r(n);return t(e.sum(),a)},sum:function(n,t,a){var e=r(n);return t(e.sum(),a)},avg:function(n,t,a){var e=r(n);return t(e.mean(),a)},median:function(n,t,a){var e=r(n);return t(e.median(),a)},stdev:function(n,t,a){var e=r(n);return t(e.stdev(),a)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},VALUE:{"default":function(n,t,a){var e=r(n);return t(e.sum(),a)},sum:function(n,t,a){var e=r(n);return t(e.sum(),a)},avg:function(n,t,a){var e=r(n);return t(e.mean(),a)},median:function(n,t,a){var e=r(n);return t(e.median(),a)},stdev:function(n,t,a){var e=r(n);return t(e.stdev(),a)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},value:{"default":function(n,t,a){var e=r(n);return t(e.sum(),a)},sum:function(n,t,a){var e=r(n);return t(e.sum(),a)},avg:function(n,t,a){var e=r(n);return t(e.mean(),a)},median:function(n,t,a){var e=r(n);return t(e.median(),a)},stdev:function(n,t,a){var e=r(n);return t(e.stdev(),a)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},um:{"default":function(r,n,t){var a=r[0];for(var e in r)r[e]!=a&&(a="_");return a},diff:function(r,n,t){var a=r[0];for(var e in r)r[e]!=a&&(a="_");return a}},flag:{concat:function(r,n,t){var a=r;return a.join(" - ")},"default":function(r,n,t){var a=r;return a.join(" - ")}},v1:{count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")},"default":function(r,n,t){var a=r;return a.join(" - ")}},"default":function(r,n,t){var a=r;return a.join(" ")}},a={"default":function(r,n){return r[n]},value:{number:function(r){return null==r.value?null:parseFloat(r.value)},string:function(r){return r.value}},Value:{number:function(r){return null==r.Value?null:parseFloat(r.Value)},string:function(r){return r.Value}}},e={localstring:function(r,n){return(Math.floor(r*Math.pow(10,n))/Math.pow(10,n)).toLocaleString()},value:function(r,n){return Math.floor(r*Math.pow(10,n))/Math.pow(10,n)},string:function(r,n){return r}},u=function(){ret={};for(var r in n){ret[r]={};for(var t in n[r])ret[r][t]=n[r][t]}return ret},o=function(r,t){return n[r]?(t||(t="default"),n[r][t]):n["default"]},i=function(r,n){return a[r]&&a[r][n]?a[r][n]:a["default"]},l=function(r){return e[r]};return function(){return{getListAggregator:u,getAgg:o,getGetValue:i,getFormater:l}}}.call(n,t,n,r),!(void 0!==a&&(r.exports=a))},function(n,t){n.exports=r}])});
//# sourceMappingURL=fenix-ui-pivotator.min.js.map