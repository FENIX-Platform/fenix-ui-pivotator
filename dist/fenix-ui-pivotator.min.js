define(["jstat"],function(r){return function(r){function n(a){if(t[a])return t[a].exports;var e=t[a]={exports:{},id:a,loaded:!1};return r[a].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var t={};return n.m=r,n.c=t,n.p="",n(0)}([function(r,n,t){r.exports=t(1)},function(r,n,t){var a,e;a=[t(2)],e=function(r){"use strict";function n(r,n){var t=n.extractor;if("function"==typeof t){for(var a=[],e=r.length,u=0;u<e;u++)a=a.concat(t(r[u]));return a}return r}function t(r,n){var t=n.rows,a=n.columns,e=l.getGetValue(n.valueOutputType);n.cumulative;e||(e=function(r){return r});for(var u,o={},i={},c=[],s=[],f=r.length,v={},d=0;d<n.values.length;d++)v[n.values[d]]={};for(var d=0;d<f;d++){var p=[],m=[];u=r[d];for(var h in t)p.push(r[d][t[h]]);for(var g in a)m.push(r[d][a[g]]);p=p.join("|*"),m=m.join("|*");for(var j=0;j<n.values.length;j++)v[n.values[j]][p]||(v[n.values[j]][p]={}),v[n.values[j]][p][m]?v[n.values[j]][p][m].push(l.getGetValue(n.values[j],"number")(u,n.values[j])):v[n.values[j]][p][m]=[l.getGetValue(n.values[j],"number")(u,n.values[j])];o[m]=!0,i[p]=!0}for(var d in o)c.push(d);for(var d in i)s.push(d);return s.sort(),a.sort(),{data:v,columns:c,rows:s}}function a(r,a){void 0===a&&(a={});var e={};return c.copyProperties(v,e),a&&c.copyProperties(a,e),e.extractor&&(r=n(r,e)),t(r,a)}function e(r,n){var t=[];for(var e in r.data){var u={};for(var o in r.metadata.dsd.columns)u[r.metadata.dsd.columns[o].id]=r.data[e][o];for(var i in n.derived)u[i]=n.derived[i](u);t.push(u)}return a(t,n)}function u(r,n){var t={data:[],metadata:{dsd:{columns:[]}}},a=e(r,n);for(var u in a.rows){var o=a.rows[u],i=o.split("|*");for(var c in a.columns){var s=a.columns[c];for(var f in n.values){var v=n.values[f];if(a.data[v][o][s]){var d=null;d=n.aggregationFn[v]?n.aggregationFn[v]:"default",i.push(l.getAgg(v,d)(a.data[v][o][s],l.getFormater(n.formatter),n.decimals))}else i.push(null)}}t.data.push(i)}var p={};for(var o in r.metadata.dsd.columns)p[r.metadata.dsd.columns[o].id]=r.metadata.dsd.columns[o].title.EN;for(var o in n.ROWS)t.metadata.dsd.columns.push({id:n.ROWS[o],title:{EN:p[n.ROWS[o]]}});for(var o in n.COLS)t.metadata.dsd.columns.push({id:n.COLS[o],title:{EN:p[n.COLS[o]]}});for(var o in a.columns)t.metadata.dsd.columns.push({id:o.replace(/\|\*/g,"_"),title:{EN:o.replace(/\|\*/g,"\n")},subject:"value"});return t}function o(r,n){i={data:[],unit:[],flag:[],attribute:[],rows:[],cols:[],cols2:[],cols2label:[],okline:[],nookline:[],rowname:[],colsname:[]};var t=e(r,n);for(var a in t.rows){var u=t.rows[a],o=u.split("|*");i.rows.push(o);var c=[];n.hasOwnProperty("showRowHeaders")&&1==n.showRowHeaders&&(c=JSON.parse(JSON.stringify(o)));for(var s in t.columns){var f=t.columns[s];for(var v in n.values){var d=n.values[v];if(t.data[d][u][f]){var p=null;p=n.aggregationFn[d]?n.aggregationFn[d]:"default",c.push(l.getAgg(d,p)(t.data[d][u][f],l.getFormater(n.formatter),n.decimals))}else c.push(null)}}i.data.push(c)}var m={};for(var u in r.metadata.dsd.columns)m[r.metadata.dsd.columns[u].id]=r.metadata.dsd.columns[u].title.EN;for(var u in n.rows)i.rowname.push({id:n.rows[u],title:{EN:m[n.rows[u]]}});0==n.rows.length&&i.rowname.push({id:"row",title:{EN:"ROW"}});for(var u in n.columns)i.colsname.push({id:n.columns[u],title:{EN:m[n.columns[u]]}});var h={};for(var u in n.hidden)h[n.hidden[u]]=!0;for(var a in t.columns){var u=t.columns[a];i.cols.push({id:u.replace(/\|\*/g,"_"),title:{EN:u.replace(/\|\*/g,"\n")}}),i.cols2.push(u.split("|*")),i.cols2label.push(u.split("|*"))}return i}var i,l=new r,c={copyProperties:function(r,n){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])},isArray:function(r){return r&&!r.propertyIsEnumerable("length")&&"object"==typeof r&&"number"==typeof r.length},stringComparator:function(r,n){return r.localeCompare(n)},numberComparator:function(r,n){return r>n?1:n>r?-1:0},defaultComparator:function(){return 0},makeComparator:function(r,n,t){var a,e=r.length,u=[];for(a=0;a<e;a++){var o=n[0][r[a]],i=typeof o;"function"==typeof t[r[a]]?u[a]=t[r[a]]:"number"===i?u[a]=this.numberComparator:"string"===i?u[a]=this.stringComparator:c.isArray(o)?u[a]=this.defaultComparator:u[a]=this.defaultComparator}return function(n,t){var o=0;for(a=0;a<e;a++){var i=r[a];if(o=u[a](n[i],t[i]),0!==o)return o}return 0}}},s=function(){return x},f=function(r,n){function t(r,n){n=n||{};var t=n.childKey||"child",a=n.parentKey||"parent",e=n.childrenKey||"children",u=n.nodeFn||function(r,n,t){return{name:n,children:t}},o={};return r.reduce(function(r,n){if(n[e]=[],o[n[t]]=n,"undefined"==typeof n[a]||""===n[a])r=u(n,n[t],n[e]);else{var i=o[n[a]];i[e].push(u(n,n[t],n[e]))}return r},{})}function a(r,n,t){return null==n||"function"!=typeof n?r:(n.call(r,r,t),r.children&&r.children.length>0&&r.children.forEach(function(t){a(t,n,r)}),r)}function e(r,n){r.children.length<1&&delete r.children}function u(r){r.children&&0!=r.children.length?r.span=0:r.span=1;for(var n in r.children)r.span+=u(r.children[n]);return r.span}function o(r,n,t){var a=[];if(n==t)for(var e in r.children)a.push({id:r.children[e].name,span:r.children[e].span});else for(var e in r.children)a=a.concat(o(r.children[e],n,t+1));return a}var i=[{id:"root"}],l={};for(var c in r)for(var s=1;s<=r[c].length;s++){var f=r[c].slice(0,s).join("_");l[f]||(l[f]=!1);var v="";s>1&&(v=r[c].slice(0,s-1).join("_")),0==l[f]&&(v.length>0?i.push({id:f,parentId:v}):i.push({id:f,parentId:"root"})),l[f]=!0}var d={childKey:"id",parentKey:"parentId"},p=a(t(i,d),e);u(p,n);var m=[];for(var c in r[0]){var h=[];h=o(p,c,0),m.push(h)}return m},v={extractor:null,comparators:{}};return function(){return{pivot:o,toFXJson:o,toPivotData:e,toFX:u,identity:s,toTree:f}}}.apply(n,a),!(void 0!==e&&(r.exports=e))},function(r,n,t){var a,e;a=[t(3)],e=function(){var r={VALUE0:{"default":function(r,n,t){var a=jStat(r);return n(a.sum(),t)},sum:function(r,n,t){var a=jStat(r);return n(a.sum(),t)},avg:function(r,n,t){var a=jStat(r);return n(a.mean(),t)},median:function(r,n,t){var a=jStat(r);return n(a.median(),t)},stdev:function(r,n,t){var a=jStat(r);return n(a.stdev(),t)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},Value:{"default":function(r,n,t){var a=jStat(r);return n(a.sum(),t)},sum:function(r,n,t){var a=jStat(r);return n(a.sum(),t)},avg:function(r,n,t){var a=jStat(r);return n(a.mean(),t)},median:function(r,n,t){var a=jStat(r);return n(a.median(),t)},stdev:function(r,n,t){var a=jStat(r);return n(a.stdev(),t)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},VALUE:{"default":function(r,n,t){var a=jStat(r);return n(a.sum(),t)},sum:function(r,n,t){var a=jStat(r);return n(a.sum(),t)},avg:function(r,n,t){var a=jStat(r);return n(a.mean(),t)},median:function(r,n,t){var a=jStat(r);return n(a.median(),t)},stdev:function(r,n,t){var a=jStat(r);return n(a.stdev(),t)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},value:{"default":function(r,n,t){var a=jStat(r);return n(a.sum(),t)},sum:function(r,n,t){var a=jStat(r);return n(a.sum(),t)},avg:function(r,n,t){var a=jStat(r);return n(a.mean(),t)},median:function(r,n,t){var a=jStat(r);return n(a.median(),t)},stdev:function(r,n,t){var a=jStat(r);return n(a.stdev(),t)},count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")}},um:{"default":function(r,n,t){var a=r[0];for(var e in r)r[e]!=a&&(a="_");return a},diff:function(r,n,t){var a=r[0];for(var e in r)r[e]!=a&&(a="_");return a}},flag:{concat:function(r,n,t){var a=r;return a.join(" - ")},"default":function(r,n,t){var a=r;return a.join(" - ")}},v1:{count:function(r,n,t){var a=r;return n(a.length,t)},concat:function(r,n,t){var a=r;return a.join(" - ")},"default":function(r,n,t){var a=r;return a.join(" - ")}},"default":function(r,n,t){var a=r;return a.join(" ")}},n={"default":function(r,n){return r[n]},value:{number:function(r){return null==r.value?null:parseFloat(r.value)},string:function(r){return r.value}},Value:{number:function(r){return null==r.Value?null:parseFloat(r.Value)},string:function(r){return r.Value}}},t={localstring:function(r,n){return(Math.floor(r*Math.pow(10,n))/Math.pow(10,n)).toLocaleString()},value:function(r,n){return Math.floor(r*Math.pow(10,n))/Math.pow(10,n)},string:function(r,n){return r}},a=function(){ret={};for(var n in r){ret[n]={};for(var t in r[n])ret[n][t]=r[n][t]}return ret},e=function(n,t){return r[n]?(t||(t="default"),r[n][t]):r["default"]},u=function(r,t){return n[r]&&n[r][t]?n[r][t]:n["default"]},o=function(r){return t[r]};return function(){return{getListAggregator:a,getAgg:e,getGetValue:u,getFormater:o}}}.apply(n,a),!(void 0!==e&&(r.exports=e))},function(n,t){n.exports=r}])});
//# sourceMappingURL=fenix-ui-pivotator.min.js.map